{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchInput","setSearchInput","value","onChange","event","target","baseUrl","axios","get","newObject","post","id","delete","put","PersonForm","persons","setPersons","setMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","newPerson","name","number","length","newMessage","existingUser","find","person","window","confirm","updatedUser","personService","then","response","map","p","data","text","classname","setTimeout","catch","err","concat","type","Person","deletePerson","onClick","Persons","filter","toLowerCase","includes","filtered","Notification","message","className","App","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c2d61d9d.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({searchInput, setSearchInput}) => {\r\n  const handleSearchChange = (event) => {\r\n    setSearchInput(event.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n    filter shown with <input\r\n      value = {searchInput}\r\n      onChange = {handleSearchChange}\r\n      />\r\n  </div>\r\n   );\r\n}\r\n\r\nexport default Filter;\r\n","import axios from 'axios'\r\nconst baseUrl = 'https://powerful-atoll-24407.herokuapp.com/api/persons'\r\n\r\nconst getAll = () => {\r\n  return axios.get(baseUrl)\r\n}\r\n\r\nconst create = (newObject) => {\r\n  return axios.post(baseUrl, newObject)\r\n}\r\n\r\nconst remove = (id) => {\r\n  return axios.delete(`${baseUrl}/${id}`)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  return axios.put(`${baseUrl}/${id}`, newObject)\r\n}\r\n\r\nexport default { getAll, create, remove, update }\r\n","import React, {useState} from 'react';\r\nimport personService from '../services/persons'\r\n\r\nconst PersonForm = ({persons, setPersons, setMessage}) => {\r\n  const [newName, setNewName] = useState('');\r\n  const [newNumber, setNewNumber] = useState('');\r\n\r\n  const handlePersonChange = (event) => {\r\n    setNewName(event.target.value);\r\n  }\r\n  const handlePhoneChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n  const addPerson = (event) => {\r\n    event.preventDefault();\r\n\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber,\r\n      id: persons.length + 1\r\n    };\r\n    let newMessage = {};\r\n    const existingUser = persons.find(person => person.name === newPerson.name)\r\n\r\n    if (existingUser) {\r\n      if (window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number?`)) {\r\n        const updatedUser = {...existingUser, number: newPerson.number};\r\n        personService\r\n          .update(existingUser.id, updatedUser)\r\n          .then((response) => {\r\n            setPersons(persons.map(p => p.id !== existingUser.id ? p : response.data))\r\n            newMessage.text = `Updated ${response.data.name}`\r\n            newMessage.classname = 'success'\r\n            setMessage(newMessage)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 3000);\r\n            setNewName('')\r\n            setNewNumber('')\r\n          })\r\n          .catch(err => {\r\n            newMessage.text = `An error has ocurred while updating`\r\n            newMessage.classname = 'error'\r\n            setMessage(newMessage)\r\n            setTimeout(() => {\r\n              setMessage(null)\r\n            }, 3000);\r\n          });\r\n      }\r\n    } else {\r\n      personService\r\n      .create(newPerson)\r\n      .then(response => {\r\n        newMessage.text = `Added ${response.data.name}`\r\n        newMessage.classname = 'success'\r\n        setPersons(persons.concat(response.data))\r\n        setMessage(newMessage)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 3000);\r\n        setNewName('')\r\n        setNewNumber('')\r\n    })\r\n      .catch(err => {\r\n        newMessage.text = `An error has ocurred while adding`\r\n        newMessage.classname = 'error'\r\n        setMessage(newMessage)\r\n        setTimeout(() => {\r\n          setMessage(null)\r\n        }, 3000);\r\n      });\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit = {addPerson}>\r\n    <div>\r\n      name: <input\r\n        value = {newName}\r\n        onChange = {handlePersonChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      number : <input\r\n        value = {newNumber}\r\n        onChange = {handlePhoneChange}\r\n      />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n   );\r\n}\r\n\r\nexport default PersonForm;\r\n","import React from 'react';\r\n\r\nconst Person = ({person, deletePerson}) => {\r\n  return (\r\n    <li>\r\n      {person.name} {person.number} <button onClick = {() => deletePerson(person)}>delete</button>\r\n    </li>\r\n   );\r\n}\r\n\r\nexport default Person;\r\n","import React from 'react';\r\nimport Person from './Person'\r\nimport personService from '../services/persons'\r\n\r\n\r\nconst Persons = ({persons, setPersons, searchInput, setMessage}) => {\r\n  const deletePerson = (person) => {\r\n    let newMessage = {}\r\n\r\n    if (window.confirm(`Delete ${person.name} ?`)) {\r\n      personService\r\n        .remove(person.id)\r\n        .then((response) => {\r\n          newMessage.text = `Deleted ${person.name}`\r\n          newMessage.classname = 'success'\r\n          setPersons(persons.filter(p => p.id !== person.id))\r\n          setMessage(newMessage)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 3000);\r\n        })\r\n        .catch(err => {\r\n          newMessage.text = `An error has ocurred while deleting`\r\n          newMessage.classname = 'error'\r\n          setMessage(newMessage)\r\n          setTimeout(() => {\r\n            setMessage(null)\r\n          }, 3000);\r\n        });\r\n      }\r\n    }\r\n\r\n  if (searchInput) {\r\n    return (\r\n      <ul>\r\n        {persons.filter(person => person.name.toLowerCase().includes(searchInput.toLowerCase()))\r\n                .map(filtered =>\r\n                  <Person person = {filtered} key = {filtered.name} deletePerson = {deletePerson} />\r\n                )}\r\n      </ul>\r\n  )\r\n}\r\n  return (\r\n    <ul>\r\n        {persons.map(person =>\r\n          <Person person = {person} key = {person.name} deletePerson = {deletePerson}/>\r\n        )}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Persons;\r\n","import React from 'react';\r\n\r\nconst Notification = ({message}) => {\r\n  if (message === null) return null\r\n  return (\r\n    <div className = {message.classname}>\r\n      {message.text}\r\n    </div>\r\n   );\r\n}\r\n\r\nexport default Notification;\r\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searchInput, setSearchInput] = useState('');\n  const [message, setMessage] = useState(null);\n\nuseEffect(() => {\n  personService\n    .getAll()\n    .then(response => {\n      setPersons(response.data);\n    })\n}, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {message} />\n      <Filter\n        searchInput = {searchInput}\n        setSearchInput = {setSearchInput}\n        />\n      <h2>add a new</h2>\n      <PersonForm\n        persons = {persons}\n        setPersons = {setPersons}\n        setMessage = {setMessage}\n        />\n      <h2>Numbers</h2>\n      <Persons\n        persons = {persons}\n        setPersons = {setPersons}\n        searchInput = {searchInput}\n        setMessage = {setMessage}\n        />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n      <App />,\r\n    document.getElementById('root')\r\n  );\r\n\r\n\r\n\r\n\r\n\r\n"],"sourceRoot":""}
{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","searchInput","setSearchInput","value","onChange","event","target","baseUrl","axios","get","newObject","post","id","delete","put","PersonForm","persons","setPersons","setMessage","useState","newName","setNewName","newNumber","setNewNumber","onSubmit","preventDefault","newPerson","name","number","length","newMessage","existingUser","find","person","window","confirm","updatedUser","personService","then","response","map","p","data","text","classname","setTimeout","catch","err","error","concat","type","Person","deletePerson","onClick","Persons","filter","toLowerCase","includes","filtered","Notification","message","className","App","useEffect","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d21991c1.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({searchInput, setSearchInput}) => {\n  const handleSearchChange = (event) => {\n    setSearchInput(event.target.value);\n  }\n\n  return (\n    <div>\n    filter shown with <input\n      value = {searchInput}\n      onChange = {handleSearchChange}\n      />\n  </div>\n   );\n}\n\nexport default Filter;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (newObject) => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst remove = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nexport default { getAll, create, remove, update }\n","import React, {useState} from 'react';\nimport personService from '../services/persons'\n\nconst PersonForm = ({persons, setPersons, setMessage}) => {\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value);\n  }\n  const handlePhoneChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n      id: persons.length + 1\n    };\n    let newMessage = {};\n    const existingUser = persons.find(person => person.name === newPerson.name)\n\n    if (existingUser) {\n      if (window.confirm(`${newPerson.name} is already added to the phonebook, replace the old number?`)) {\n        const updatedUser = {...existingUser, number: newPerson.number};\n        personService\n          .update(existingUser.id, updatedUser)\n          .then((response) => {\n            setPersons(persons.map(p => p.id !== existingUser.id ? p : response.data))\n            newMessage.text = `Updated ${response.data.name}`\n            newMessage.classname = 'success'\n            setMessage(newMessage)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000);\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(err => {\n            newMessage.text = err.response.data.error\n            newMessage.classname = 'error'\n            setMessage(newMessage)\n            setTimeout(() => {\n              setMessage(null)\n            }, 5000);\n          });\n      }\n    } else {\n      personService\n      .create(newPerson)\n      .then(response => {\n        newMessage.text = `Added ${response.data.name}`\n        newMessage.classname = 'success'\n        setPersons(persons.concat(response.data))\n        setMessage(newMessage)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000);\n        setNewName('')\n        setNewNumber('')\n    })\n      .catch(err => {\n        newMessage.text = err.response.data.error\n        newMessage.classname = 'error'\n        setMessage(newMessage)\n        setTimeout(() => {\n          setMessage(null)\n        }, 5000);\n      });\n    }\n  }\n\n  return (\n    <form onSubmit = {addPerson}>\n    <div>\n      name: <input\n        value = {newName}\n        onChange = {handlePersonChange}\n      />\n    </div>\n    <div>\n      number : <input\n        value = {newNumber}\n        onChange = {handlePhoneChange}\n      />\n    </div>\n    <div>\n      <button type=\"submit\">add</button>\n    </div>\n  </form>\n   );\n}\n\nexport default PersonForm;\n","import React from 'react';\n\nconst Person = ({person, deletePerson}) => {\n  return (\n    <li>\n      {person.name} {person.number} <button onClick = {() => deletePerson(person)}>delete</button>\n    </li>\n   );\n}\n\nexport default Person;\n","import React from 'react';\nimport Person from './Person'\nimport personService from '../services/persons'\n\n\nconst Persons = ({persons, setPersons, searchInput, setMessage}) => {\n  const deletePerson = (person) => {\n    let newMessage = {}\n\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .remove(person.id)\n        .then((response) => {\n          newMessage.text = `Deleted ${person.name}`\n          newMessage.classname = 'success'\n          setPersons(persons.filter(p => p.id !== person.id))\n          setMessage(newMessage)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000);\n        })\n        .catch(err => {\n          newMessage.text = `An error has ocurred while deleting`\n          newMessage.classname = 'error'\n          setMessage(newMessage)\n          setTimeout(() => {\n            setMessage(null)\n          }, 3000);\n        });\n      }\n    }\n\n  if (searchInput) {\n    return (\n      <ul>\n        {persons.filter(person => person.name.toLowerCase().includes(searchInput.toLowerCase()))\n                .map(filtered =>\n                  <Person person = {filtered} key = {filtered.name} deletePerson = {deletePerson} />\n                )}\n      </ul>\n  )\n}\n  return (\n    <ul>\n        {persons.map(person =>\n          <Person person = {person} key = {person.name} deletePerson = {deletePerson}/>\n        )}\n    </ul>\n  )\n}\n\nexport default Persons;\n","import React from 'react';\n\nconst Notification = ({message}) => {\n  if (message === null) return null\n  return (\n    <div className = {message.classname}>\n      {message.text}\n    </div>\n   );\n}\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [searchInput, setSearchInput] = useState('');\n  const [message, setMessage] = useState(null);\n\nuseEffect(() => {\n  personService\n    .getAll()\n    .then(response => {\n      setPersons(response.data);\n    })\n}, []);\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message = {message} />\n      <Filter\n        searchInput = {searchInput}\n        setSearchInput = {setSearchInput}\n        />\n      <h2>add a new</h2>\n      <PersonForm\n        persons = {persons}\n        setPersons = {setPersons}\n        setMessage = {setMessage}\n        />\n      <h2>Numbers</h2>\n      <Persons\n        persons = {persons}\n        setPersons = {setPersons}\n        searchInput = {searchInput}\n        setMessage = {setMessage}\n        />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(\n      <App />,\n    document.getElementById('root')\n  );\n\n\n\n\n\n"],"sourceRoot":""}